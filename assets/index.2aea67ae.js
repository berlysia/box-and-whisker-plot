var Y=Object.defineProperty,$=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var F=(i,s,t)=>s in i?Y(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,c=(i,s)=>{for(var t in s||(s={}))R.call(s,t)&&F(i,t,s[t]);if(N)for(var t of N(s))W.call(s,t)&&F(i,t,s[t]);return i},m=(i,s)=>$(i,P(s));import{A as X,j as l,a as f,r as d,F as z,X as B,Y as G,H as T,R as I,b as Q}from"./vendor.fbe1a66c.js";const V=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&h(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}};V();const q="rv-xy-plot__series rv-xy-plot__series--candlestick";class C extends X{render(){const{className:s,data:t,marginLeft:h,marginTop:e}=this.props;if(!t)return null;const r=this._getAttributeFunctor("x"),a=this._getAttributeFunctor("y"),n=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),y=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),g=this._getAttributeFunctor("opacity"),D=Math.abs(r(t[1])-r(t[0]))*.2;return l("g",{className:`${q} ${s}`,transform:`translate(${h},${e})`,children:t.map((o,L)=>{var S;const H=r(o),k=a(m(c({},o),{y:o.max})),b=a(m(c({},o),{y:o.upperQuartile})),j=a(m(c({},o),{y:o.lowerQuartile})),M=a(m(c({},o),{y:o.min})),v=a(m(c({},o),{y:o.mark})),A=a(m(c({},o),{y:o.average})),_=a(m(c({},o),{y:o.median})),O=(S=o.ok)!=null?S:0,p={stroke:n==null?void 0:n(o)},w={stroke:this.props.markOkStroke||(n==null?void 0:n(o))},E={stroke:this.props.markNgStroke||(n==null?void 0:n(o))},u=D*2;return f("g",{transform:`translate(${H+u})`,opacity:g?g(o):1,onClick:x=>this._valueClickHandler(o,x),onMouseOver:x=>this._valueMouseOverHandler(o,x),onMouseOut:x=>this._valueMouseOutHandler(o,x),children:[l("line",c({x1:-u,x2:u,y1:k,y2:k},p)),l("line",c({x1:0,x2:0,y1:k,y2:M},p)),l("line",c({x1:-u,x2:u,y1:M,y2:M},p)),l("rect",{x:-u,width:Math.max(u*2,0),y:b,height:Math.abs(b-j),fill:y==null?void 0:y(o)}),l("line",c({x1:-u,x2:u,y1:v,y2:v,strokeWidth:4},O>0?w:O<0?E:p)),l("line",c({x1:-u*1.2,x2:u*1.2,y1:A,y2:A,strokeDasharray:"6 6"},p)),l("line",c({x1:-u,x2:u,y1:_,y2:_,strokeDasharray:"6 2 6 2"},p))]},L)})})}}C.displayName="CandlestickSeries";function K(i){return d.exports.useMemo(()=>{const[s,...t]=i.trim().split(`
`).map(e=>e.split(/\s+/));return t.map(e=>Object.fromEntries(e.map((r,a)=>[s[a],parseFloat(r)]))).map((e,r)=>m(c({x:r,y:e.mark||e.average},e),{size:500}))},[i])}function J(i,s){const t=[],h=Math.floor(Math.log10(i)),e=Math.floor(Math.log10(s)),r=10**e,a=10**(e-1),n=5*a;i<n&&t.push(n),h<e&&t.push(r);for(let y=r+n;y<s;y+=n)t.push(y);return t}function U(i,s){const t=[],h=Math.floor(Math.log10(s)),e=10**(h-1);for(let r=1;r*e<s;r+=1)r%5&&t.push(r*e);return t}function Z(){const[i,s]=d.exports.useState(""),[t,h]=d.exports.useState(0),[e,r]=d.exports.useState(100),a=K(i);return d.exports.useEffect(()=>{a.length>0&&(h(Math.min(...a.map(n=>n.min))*.8),r(Math.max(...a.map(n=>n.max))*1.2))},[a]),f("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[f("div",{children:[l("textarea",{value:i,onChange:n=>s(n.currentTarget.value)}),f("label",{children:["yMin",l("input",{type:"number",value:t,onChange:n=>h(n.currentTarget.valueAsNumber||0)})]}),f("label",{children:["yMax",l("input",{type:"number",value:e,onChange:n=>r(n.currentTarget.valueAsNumber||0)})]})]}),l("div",{style:{position:"relative",flexGrow:1},children:f(z,{animation:!0,yDomain:[t,e],xDomain:[0,a.length],height:800,children:[l(B,{tickFormat:n=>{var y,g;return(g=(y=a[n])==null?void 0:y.name)!=null?g:""},left:80}),l(G,{}),l(T,{style:{stroke:"#ddd",strokeDasharray:"8 12"},tickValues:U(t,e)}),l(T,{style:{stroke:"#bbb",strokeDasharray:"4 4"},tickValues:J(t,e)}),l(C,{colorType:"literal",opacityType:"literal",stroke:"#79C7E3",fill:"#FF9833",markOkStroke:"#ff2929",markNgStroke:"#2929ff",data:a})]})})]})}I.render(l(Q.StrictMode,{children:l(Z,{})}),document.getElementById("root"));
