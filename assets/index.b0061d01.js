var E=Object.defineProperty,Y=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var N=(i,s,t)=>s in i?E(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,c=(i,s)=>{for(var t in s||(s={}))P.call(s,t)&&N(i,t,s[t]);if(F)for(var t of F(s))R.call(s,t)&&N(i,t,s[t]);return i},p=(i,s)=>Y(i,$(s));import{A as W,j as l,a as y,r as x,F as X,X as z,Y as B,H as w,R as G,b as I}from"./vendor.fbe1a66c.js";const V=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&m(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}};V();const q="rv-xy-plot__series rv-xy-plot__series--candlestick";class T extends W{render(){const{className:s,data:t,marginLeft:m,marginTop:e}=this.props;if(!t)return null;const r=this._getAttributeFunctor("x"),n=this._getAttributeFunctor("y"),a=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),h=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),d=this._getAttributeFunctor("opacity"),C=Math.abs(r(t[1])-r(t[0]))*.2;return l("g",{className:`${q} ${s}`,transform:`translate(${m},${e})`,children:t.map((o,D)=>{var S;const L=r(o),k=n(p(c({},o),{y:o.max})),M=n(p(c({},o),{y:o.upperQuartile})),H=n(p(c({},o),{y:o.lowerQuartile})),b=n(p(c({},o),{y:o.min})),v=n(p(c({},o),{y:o.mark})),A=n(p(c({},o),{y:o.average})),_=n(p(c({},o),{y:o.median})),O=(S=o.ok)!=null?S:0,f={stroke:a==null?void 0:a(o)},Q={stroke:this.props.markOkStroke||(a==null?void 0:a(o))},j={stroke:this.props.markNgStroke||(a==null?void 0:a(o))},u=C*2;return y("g",{transform:`translate(${L+u})`,opacity:d?d(o):1,onClick:g=>this._valueClickHandler(o,g),onMouseOver:g=>this._valueMouseOverHandler(o,g),onMouseOut:g=>this._valueMouseOutHandler(o,g),children:[l("line",c({x1:-u,x2:u,y1:k,y2:k},f)),l("line",c({x1:0,x2:0,y1:k,y2:b},f)),l("line",c({x1:-u,x2:u,y1:b,y2:b},f)),l("rect",{x:-u,width:Math.max(u*2,0),y:M,height:Math.abs(M-H),fill:h==null?void 0:h(o)}),l("line",c({x1:-u,x2:u,y1:v,y2:v,strokeWidth:4},O>0?Q:O<0?j:f)),l("line",c({x1:-u*1.2,x2:u*1.2,y1:A,y2:A,strokeDasharray:"6 6"},f)),l("line",c({x1:-u,x2:u,y1:_,y2:_,strokeDasharray:"6 2 6 2"},f))]},D)})})}}T.displayName="CandlestickSeries";function K(i){return x.exports.useMemo(()=>{const[s,...t]=i.trim().split(`
`).map(e=>e.split(/\s+/));return t.map(e=>Object.fromEntries(e.map((r,n)=>[s[n],parseFloat(r)]))).map((e,r)=>p(c({x:r,y:e.mark||e.average},e),{size:500}))},[i])}function J(i,s){const t=[],m=Math.floor(Math.log10(i)),e=Math.floor(Math.log10(s)),r=10**e,n=10**(e-1),a=5*n;i<a&&t.push(a),m<e&&t.push(r);for(let h=r+a;h<s;h+=a)t.push(h);return t}function U(i,s){const t=[],m=Math.floor(Math.log10(s)),e=10**(m-1);for(let r=1;r*e<s;r+=1)r%5&&t.push(r*e);return t}function Z(){const[i,s]=x.exports.useState(""),[t,m]=x.exports.useState(0),[e,r]=x.exports.useState(100),n=K(i);return x.exports.useEffect(()=>{n.length>0&&(m(Math.min(...n.map(a=>a.min))*.8),r(Math.max(...n.map(a=>a.max))*1.2))},[n]),y("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[y("div",{children:[y("p",{children:["format: multispace separated value",l("br",{}),"header row must be values listed below(unordered, parseFloat will be applied):",l("pre",{children:"name min lowerQuartile median upperQuartile max average mark ok"})]}),l("textarea",{style:{width:640,height:"4em"},value:i,onChange:a=>s(a.currentTarget.value),placeholder:`name min lowerQuartile median upperQuartile max average mark ok
foo 0 20 40 60 80 50 75 1`}),y("label",{children:["yMin",l("input",{type:"number",value:t,onChange:a=>m(a.currentTarget.valueAsNumber||0)})]}),y("label",{children:["yMax",l("input",{type:"number",value:e,onChange:a=>r(a.currentTarget.valueAsNumber||0)})]})]}),l("div",{style:{position:"relative",flexGrow:1},children:y(X,{animation:!0,yDomain:[t,e],xDomain:[0,n.length],height:800,children:[l(z,{tickFormat:a=>{var h,d;return(d=(h=n[a])==null?void 0:h.name)!=null?d:""},left:80}),l(B,{}),l(w,{style:{stroke:"#ddd",strokeDasharray:"8 12"},tickValues:U(t,e)}),l(w,{style:{stroke:"#bbb",strokeDasharray:"4 4"},tickValues:J(t,e)}),l(T,{colorType:"literal",opacityType:"literal",stroke:"#79C7E3",fill:"#FF9833",markOkStroke:"#ff2929",markNgStroke:"#2929ff",data:n})]})})]})}G.render(l(I.StrictMode,{children:l(Z,{})}),document.getElementById("root"));
