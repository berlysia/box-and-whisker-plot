var j=Object.defineProperty,w=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var S=(l,r,s)=>r in l?j(l,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[r]=s,c=(l,r)=>{for(var s in r||(r={}))Y.call(r,s)&&S(l,s,r[s]);if(_)for(var s of _(r))$.call(r,s)&&S(l,s,r[s]);return l},y=(l,r)=>w(l,E(r));import{A as P,j as i,a as f,r as d,F as R,X as W,Y as X,H as z,R as G,b as I}from"./vendor.fbe1a66c.js";const Q=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&m(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};Q();const q="rv-xy-plot__series rv-xy-plot__series--candlestick";class N extends P{render(){const{className:r,data:s,marginLeft:m,marginTop:e}=this.props;if(!s)return null;const n=this._getAttributeFunctor("x"),o=this._getAttributeFunctor("y"),a=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),p=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("opacity"),F=Math.abs(n(s[1])-n(s[0]))*.2;return console.log(this.props),i("g",{className:`${q} ${r}`,transform:`translate(${m},${e})`,children:s.map((t,C)=>{const D=n(t),k=o(y(c({},t),{y:t.max})),v=o(y(c({},t),{y:t.upperQuartile})),L=o(y(c({},t),{y:t.lowerQuartile})),b=o(y(c({},t),{y:t.min})),M=o(y(c({},t),{y:t.mark})),A=o(y(c({},t),{y:t.average})),O=o(y(c({},t),{y:t.median}));console.log(t.ok);const h={stroke:a==null?void 0:a(t)},T={stroke:this.props.markOkStroke||(a==null?void 0:a(t))},H={stroke:this.props.markNgStroke||(a==null?void 0:a(t))},u=F*2;return f("g",{transform:`translate(${D+u})`,opacity:x?x(t):1,onClick:g=>this._valueClickHandler(t,g),onMouseOver:g=>this._valueMouseOverHandler(t,g),onMouseOut:g=>this._valueMouseOutHandler(t,g),children:[i("line",c({x1:-u,x2:u,y1:k,y2:k},h)),i("line",c({x1:0,x2:0,y1:k,y2:b},h)),i("line",c({x1:-u,x2:u,y1:b,y2:b},h)),i("rect",{x:-u,width:Math.max(u*2,0),y:v,height:Math.abs(v-L),fill:p==null?void 0:p(t)}),i("line",c({x1:-u,x2:u,y1:M,y2:M,strokeWidth:4},t.ok>0?T:t.ok<0?H:h)),i("line",c({x1:-u*1.2,x2:u*1.2,y1:A,y2:A,strokeDasharray:"6 6"},h)),i("line",c({x1:-u,x2:u,y1:O,y2:O,strokeDasharray:"6 2 6 2"},h))]},C)})})}}N.displayName="CandlestickSeries";function B(l){return d.exports.useMemo(()=>{const[r,...s]=l.trim().split(`
`).map(e=>e.split(/\s+/));return s.map(e=>Object.fromEntries(e.map((n,o)=>[r[o],parseFloat(n)]))).map((e,n)=>y(c({x:n,y:e.mark||e.average},e),{size:500}))},[l])}function K(){const[l,r]=d.exports.useState(""),[s,m]=d.exports.useState(0),[e,n]=d.exports.useState(1500),o=B(l);return d.exports.useEffect(()=>{o.length>0&&(m(Math.min(...o.map(a=>a.min))-200),n(Math.max(...o.map(a=>a.max))+200))},[o]),f("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[f("div",{children:[i("textarea",{value:l,onChange:a=>r(a.currentTarget.value)}),f("label",{children:["yMin",i("input",{type:"number",value:s,onChange:a=>m(a.currentTarget.valueAsNumber||0)})]}),f("label",{children:["yMax",i("input",{type:"number",value:e,onChange:a=>n(a.currentTarget.valueAsNumber||0)})]})]}),i("div",{style:{position:"relative",flexGrow:1},children:f(R,{animation:!0,yDomain:[s,e],xDomain:[0,o.length],height:800,children:[i(W,{tickFormat:a=>{var p,x;return(x=(p=o[a])==null?void 0:p.name)!=null?x:""},left:80}),i(X,{}),i(z,{tickValues:[500,1e3],style:{stroke:"#ccc",strokeDasharray:"8 8"}}),i(N,{colorType:"literal",opacityType:"literal",stroke:"#79C7E3",fill:"#FF9833",markOkStroke:"#ff2929",markNgStroke:"#2929ff",data:o})]})})]})}G.render(i(I.StrictMode,{children:i(K,{})}),document.getElementById("root"));
